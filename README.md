# ๐ค Telegram Bot Constructor

ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะพะทะดะฐะฝะธั Telegram-ะฑะพัะพะฒ, ะบะพัะพััะต ะฟัะพะดะฐัั ะดะพัััะฟ ะบ ะฟัะธะฒะฐัะฝัะผ ะบะฐะฝะฐะปะฐะผ ัะตัะตะท ะบัะธะฟัะพะฒะฐะปััั (CryptoBot).

## โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ฑ **ะกะพะทะดะฐะฝะธะต ะฑะพัะพะฒ ัะตัะตะท ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั** โ ะฑะตะท ะฝะฐะฟะธัะฐะฝะธั ะบะพะดะฐ
- ๐ฐ **ะัะธัะผ ะพะฟะปะฐัั ัะตัะตะท CryptoBot** โ ะบัะธะฟัะพะฒะฐะปััะฝัะต ะฟะปะฐัะตะถะธ
- ๐ **ะะฒัะพะผะฐัะธัะตัะบะพะต ะดะพะฑะฐะฒะปะตะฝะธะต** โ ะฒ ะฟัะธะฒะฐัะฝัะน ะบะฐะฝะฐะป ะฟะพัะปะต ะพะฟะปะฐัั
- โฐ **ะัะพะฒะตัะบะฐ ะฟะพะดะฟะธัะพะบ** โ ะฐะฒัะพะผะฐัะธัะตัะบะธะน ะบะธะบ ะฟะพ ะธััะตัะตะฝะธะธ ััะพะบะฐ
- ๐๏ธ **ะัะพะผะพะบะพะดั** โ ัะบะธะดะบะธ ะธ ะฐะบัะธะธ
- ๐ฃ **ะะฐััะพะฒัะต ัะฐัััะปะบะธ** โ ะฟะพ ะฒัะตะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะฑะพัะฐ
- ๐๏ธ **ะะทะพะปะธัะพะฒะฐะฝะฝัะต ะดะฐะฝะฝัะต** โ ะพัะดะตะปัะฝะฐั SQLite ะฑะฐะทะฐ ะดะปั ะบะฐะถะดะพะณะพ ะฑะพัะฐ

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ะะะะะ-ะะะะะะฌ (React)              โ
โโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                      โ REST API
                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ             BACKEND (FastAPI)               โ
โ  main.db โ ะัะบะตัััะฐัะพั ะฑะพัะพะฒ โ CryptoBot    โ
โโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโ
                      โ
      โโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโ
      โผ               โผ               โผ
โโโโโโโโโโโโโ   โโโโโโโโโโโโโ   โโโโโโโโโโโโโ
โ  Bot #1   โ   โ  Bot #2   โ   โ  Bot #N   โ
โ  bot.db   โ   โ  bot.db   โ   โ  bot.db   โ
โโโโโโโโโโโโโ   โโโโโโโโโโโโโ   โโโโโโโโโโโโโ
                      โ
                      โผ
              โโโโโโโโโโโโโโโโโ
              โ   USERBOT     โ
              โ  (Pyrogram)   โ
              โโโโโโโโโโโโโโโโโ
```

## ๐ ะขัะตะฑะพะฒะฐะฝะธั

### ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั
- **OS:** Ubuntu 20.04+ / Debian 11+
- **RAM:** ะะธะฝะธะผัะผ 1GB (ัะตะบะพะผะตะฝะดัะตััั 2GB+)
- **CPU:** 1 vCPU (ัะตะบะพะผะตะฝะดัะตััั 2+)
- **ะะธัะบ:** 10GB+

### ะัะพะณัะฐะผะผะฝะพะต ะพะฑะตัะฟะตัะตะฝะธะต
- Python 3.10+
- Node.js 18+ (ะดะปั frontend)
- Nginx (ะดะปั production)
- Supervisor (ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะฟัะพัะตััะฐะผะธ)

## ๐ ะัััััะน ััะฐัั

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
git clone https://github.com/your-username/TGconst.git
cd TGconst
```

### 2. ะะฒัะพะผะฐัะธัะตัะบะฐั ัััะฐะฝะพะฒะบะฐ

```bash
chmod +x scripts/install.sh
./scripts/install.sh
```

### 3. ะััะฝะฐั ัััะฐะฝะพะฒะบะฐ (ะฐะปััะตัะฝะฐัะธะฒะฐ)

```bash
# ะกะพะทะดะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
python3 -m venv venv
source venv/bin/activate

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน Python
pip install -r requirements.txt

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน frontend
cd frontend && npm install && cd ..

# ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
cp .env.example .env
nano .env  # ะััะตะดะฐะบัะธััะนัะต ะฝะฐัััะพะนะบะธ

# ะกะพะทะดะฐะฝะธะต ะฐะดะผะธะฝะฐ
python scripts/create_admin.py
```

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ะคะฐะนะป .env

```env
# === APP ===
DEBUG=false
SECRET_KEY=ะฒะฐั-ัะตะบัะตัะฝัะน-ะบะปัั-32-ัะธะผะฒะพะปะฐ

# === PATHS ===
DATA_DIR=./data
MAIN_DB_PATH=./data/main.db

# === JWT ===
JWT_SECRET_KEY=ะฒะฐั-jwt-ัะตะบัะตั
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# === ADMIN ===
ADMIN_USERNAME=admin
ADMIN_PASSWORD=ะฒะฐั-ะฝะฐะดะตะถะฝัะน-ะฟะฐัะพะปั

# === USERBOT (Pyrogram) ===
USERBOT_API_ID=12345678
USERBOT_API_HASH=your_api_hash
USERBOT_PHONE=+79001234567
USERBOT_SESSION_STRING=

# === SERVER ===
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
FRONTEND_URL=https://your-domain.com
WEBHOOK_BASE_URL=https://your-domain.com
```

### ะะพะปััะตะฝะธะต Telegram API credentials

1. ะะตัะตะนะดะธัะต ะฝะฐ https://my.telegram.org
2. ะะพะนะดะธัะต ะฒ ะฐะบะบะฐัะฝั
3. ะะตัะตะนะดะธัะต ะฒ "API development tools"
4. ะกะพะทะดะฐะนัะต ะฟัะธะปะพะถะตะฝะธะต
5. ะกะบะพะฟะธััะนัะต `api_id` ะธ `api_hash`

### ะะตะฝะตัะฐัะธั Pyrogram session

```bash
source venv/bin/activate
python scripts/generate_session.py
```

ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ, ะฒะฒะตะดะธัะต ะบะพะด ะธะท Telegram. ะะพะปััะตะฝะฝัั ัััะพะบั ัะตััะธะธ ะดะพะฑะฐะฒััะต ะฒ `.env` ะบะฐะบ `USERBOT_SESSION_STRING`.

## ๐ ะะฐะฟััะบ

### Development ัะตะถะธะผ

```bash
# Terminal 1: Backend
source venv/bin/activate
python backend/run.py

# Terminal 2: Userbot
source venv/bin/activate
python userbot/run.py

# Terminal 3: Frontend
cd frontend
npm run dev
```

### Production ัะตะถะธะผ

#### 1. ะกะฑะพัะบะฐ frontend

```bash
cd frontend
npm run build
```

#### 2. ะะฐัััะพะนะบะฐ Supervisor

```bash
# ะะพะฟะธัะพะฒะฐะฝะธะต ะบะพะฝัะธะณะพะฒ
sudo cp scripts/supervisor/*.conf /etc/supervisor/conf.d/

# ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะฟััะตะน (ะทะฐะผะตะฝะธัะต ะฝะฐ ัะฒะพะธ)
sudo nano /etc/supervisor/conf.d/backend.conf
sudo nano /etc/supervisor/conf.d/userbot.conf

# ะัะธะผะตะฝะตะฝะธะต
sudo supervisorctl reread
sudo supervisorctl update
```

#### 3. ะะฐัััะพะนะบะฐ Nginx

```bash
# ะะพะฟะธัะพะฒะฐะฝะธะต ะบะพะฝัะธะณะฐ
sudo cp nginx.conf /etc/nginx/sites-available/bot-constructor

# ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต (ะทะฐะผะตะฝะธัะต your-domain.com)
sudo nano /etc/nginx/sites-available/bot-constructor

# ะะบัะธะฒะฐัะธั
sudo ln -s /etc/nginx/sites-available/bot-constructor /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

#### 4. ะะพะปััะตะฝะธะต SSL ัะตััะธัะธะบะฐัะฐ

```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d your-domain.com
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะกะพะทะดะฐะฝะธะต ะฑะพัะฐ

1. ะัะบัะพะนัะต ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั: `https://your-domain.com`
2. ะะพะนะดะธัะต ั ััััะฝัะผะธ ะดะฐะฝะฝัะผะธ ะฐะดะผะธะฝะฐ
3. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "ะะพัั" โ "ะกะพะทะดะฐัั ะฑะพัะฐ"
4. ะะฒะตะดะธัะต:
   - ะะฐะทะฒะฐะฝะธะต ะฑะพัะฐ
   - ะขะพะบะตะฝ Telegram ะฑะพัะฐ (ะพั @BotFather)
   - ะขะพะบะตะฝ CryptoBot (ะพั @CryptoBot)
   - ะัะธะฒะตัััะฒะตะฝะฝะพะต ัะพะพะฑัะตะฝะธะต
5. ะะฐะถะผะธัะต "ะกะพะทะดะฐัั"

### ะะพะฑะฐะฒะปะตะฝะธะต ะบะฐะฝะฐะปะฐ

1. ะัะบัะพะนัะต ะฝะฐัััะพะนะบะธ ะฑะพัะฐ
2. ะะตัะตะนะดะธัะต ะฒ "ะะฐะฝะฐะปั" โ "ะะพะฑะฐะฒะธัั ะบะฐะฝะฐะป"
3. ะะฒะตะดะธัะต:
   - ID ะบะฐะฝะฐะปะฐ (ะฝะฐะฟัะธะผะตั: -1001234567890)
   - Username (ะตัะปะธ ะตััั)
   - ะะฐะทะฒะฐะฝะธะต
4. **ะะฐะถะฝะพ:** ะะพะฑะฐะฒััะต userbot-ะฐะบะบะฐัะฝั ะบะฐะบ ะฐะดะผะธะฝะธัััะฐัะพัะฐ ะบะฐะฝะฐะปะฐ ั ะฟัะฐะฒะพะผ ะดะพะฑะฐะฒะปะตะฝะธั ััะฐััะฝะธะบะพะฒ

### ะกะพะทะดะฐะฝะธะต ัะฐัะธัะพะฒ

1. ะัะฑะตัะธัะต ะบะฐะฝะฐะป
2. ะะตัะตะนะดะธัะต ะฒ "ะขะฐัะธัั" โ "ะะพะฑะฐะฒะธัั ัะฐัะธั"
3. ะะฒะตะดะธัะต:
   - ะะฐะทะฒะฐะฝะธะต (ะฝะฐะฟัะธะผะตั: "1 ะผะตััั")
   - ะฆะตะฝะฐ ะฒ USD
   - ะกัะพะบ ะฒ ะดะฝัั

### ะัะพะผะพะบะพะดั

1. ะะตัะตะนะดะธัะต ะฒ "ะัะพะผะพะบะพะดั" โ "ะกะพะทะดะฐัั ะฟัะพะผะพะบะพะด"
2. ะะฒะตะดะธัะต:
   - ะะพะด (ะฝะฐะฟัะธะผะตั: SAVE20)
   - ะกะบะธะดะบะฐ (% ะธะปะธ ัะธะบัะธัะพะฒะฐะฝะฝะฐั ััะผะผะฐ)
   - ะะธะผะธั ะธัะฟะพะปัะทะพะฒะฐะฝะธะน (ะพะฟัะธะพะฝะฐะปัะฝะพ)
   - ะกัะพะบ ะดะตะนััะฒะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะะฐัััะปะบะธ

1. ะะตัะตะนะดะธัะต ะฒ "ะะฐัััะปะบะธ" โ "ะกะพะทะดะฐัั ัะฐัััะปะบั"
2. ะะฒะตะดะธัะต ัะตะบัั ัะพะพะฑัะตะฝะธั
3. ะัะธะบัะตะฟะธัะต ัะพัะพ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
4. ะะฐะถะผะธัะต "ะะฐะฟัััะธัั"

## ๐ง ะฃะฟัะฐะฒะปะตะฝะธะต

### Supervisor ะบะพะผะฐะฝะดั

```bash
# ะกัะฐััั ะฒัะตั ะฟัะพัะตััะพะฒ
sudo supervisorctl status

# ะะตัะตะทะฐะฟััะบ backend
sudo supervisorctl restart bot-constructor-backend

# ะะตัะตะทะฐะฟััะบ userbot
sudo supervisorctl restart bot-constructor-userbot

# ะะพะณะธ
sudo tail -f /var/log/supervisor/backend.log
sudo tail -f /var/log/supervisor/userbot.log
```

### ะะฑะฝะพะฒะปะตะฝะธะต ะฟัะพะตะบัะฐ

```bash
cd /opt/telegram-bot-constructor
git pull

source venv/bin/activate
pip install -r requirements.txt

cd frontend && npm install && npm run build && cd ..

sudo supervisorctl restart all
```

## ๐ Troubleshooting

### ะะพั ะฝะต ะทะฐะฟััะบะฐะตััั

1. ะัะพะฒะตัััะต ัะพะบะตะฝ ะฑะพัะฐ ัะตัะตะท @BotFather
2. ะัะพะฒะตัััะต ะปะพะณะธ: `sudo tail -f /var/log/supervisor/backend.log`
3. ะฃะฑะตะดะธัะตัั, ััะพ ะฑะพั ะฝะต ะทะฐะฟััะตะฝ ะณะดะต-ัะพ ะตัั

### Userbot ะฝะต ะดะพะฑะฐะฒะปัะตั ะฒ ะบะฐะฝะฐะป

1. ะัะพะฒะตัััะต, ััะพ userbot โ ะฐะดะผะธะฝะธัััะฐัะพั ะบะฐะฝะฐะปะฐ
2. ะัะพะฒะตัััะต ะฟัะฐะฒะฐ: ะฒะพะทะผะพะถะฝะพััั ะดะพะฑะฐะฒะปััั ััะฐััะฝะธะบะพะฒ
3. ะัะพะฒะตัััะต ะปะพะณะธ: `sudo tail -f /var/log/supervisor/userbot.log`
4. ะะพะทะผะพะถะฝะพ, FloodWait โ ะฟะพะดะพะถะดะธัะต ะธ ะฟะพะฟัะพะฑัะนัะต ัะฝะพะฒะฐ

### ะัะธะฑะบะธ ะพะฟะปะฐัั

1. ะัะพะฒะตัััะต ัะพะบะตะฝ CryptoBot
2. ะฃะฑะตะดะธัะตัั, ััะพ WEBHOOK_BASE_URL ะดะพัััะฟะตะฝ ะธะทะฒะฝะต
3. ะัะพะฒะตัััะต SSL ัะตััะธัะธะบะฐั
4. ะัะพะฒะตัััะต ะปะพะณะธ backend

### ะคัะพะฝัะตะฝะด ะฝะต ะพัะบััะฒะฐะตััั

1. ะัะพะฒะตัััะต ัะฑะพัะบั: `cd frontend && npm run build`
2. ะัะพะฒะตัััะต ะบะพะฝัะธะณ nginx
3. ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะฝะฐ ะฟะฐะฟะบั dist

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
telegram-bot-constructor/
โโโ backend/
โ   โโโ app/
โ   โ   โโโ api/          # API endpoints
โ   โ   โโโ models/       # SQLAlchemy models
โ   โ   โโโ schemas/      # Pydantic schemas
โ   โ   โโโ services/     # Business logic
โ   โ   โโโ utils/        # Helpers
โ   โโโ bot_template/     # ะจะฐะฑะปะพะฝ Telegram ะฑะพัะฐ
โโโ userbot/              # Pyrogram userbot
โโโ frontend/             # React ะฐะดะผะธะฝะบะฐ
โโโ scripts/              # ะกะบัะธะฟัั ัััะฐะฝะพะฒะบะธ
โโโ data/                 # ะะฐะทั ะดะฐะฝะฝัั
โ   โโโ main.db
โ   โโโ bots/{uuid}/bot.db
โโโ nginx.conf            # ะะพะฝัะธะณ nginx
โโโ requirements.txt
โโโ .env
```

## ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั

### ะะตะบะพะผะตะฝะดะฐัะธะธ

1. **ะัะฟะพะปัะทัะนัะต ัะธะปัะฝัะต ะฟะฐัะพะปะธ** ะดะปั ะฐะดะผะธะฝะบะธ ะธ .env
2. **ะะณัะฐะฝะธัััะต ะดะพัััะฟ** ะบ ัะตัะฒะตัั ะฟะพ SSH (ัะพะปัะบะพ ะฟะพ ะบะปััั)
3. **ะะฐัััะพะนัะต firewall** (ufw):
   ```bash
   sudo ufw allow ssh
   sudo ufw allow http
   sudo ufw allow https
   sudo ufw enable
   ```
4. **ะะตะณัะปััะฝะพ ะพะฑะฝะพะฒะปัะนัะต** ัะธััะตะผั ะธ ะทะฐะฒะธัะธะผะพััะธ
5. **ะะตะปะฐะนัะต ะฑัะบะฐะฟั** ะฟะฐะฟะบะธ data/

### ะัะบะฐะฟ

```bash
# ะกะพะทะดะฐะฝะธะต ะฑัะบะฐะฟะฐ
tar -czvf backup-$(date +%Y%m%d).tar.gz data/

# ะะพัััะฐะฝะพะฒะปะตะฝะธะต
tar -xzvf backup-20240101.tar.gz
```

## ๐ API Reference

API ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัะฐะผ:
- Swagger UI: `https://your-domain.com/docs`
- ReDoc: `https://your-domain.com/redoc`

### ะัะฝะพะฒะฝัะต endpoints

| Method | Endpoint | ะะฟะธัะฐะฝะธะต |
|--------|----------|----------|
| POST | /api/auth/login | ะะฒัะพัะธะทะฐัะธั |
| GET | /api/auth/me | ะขะตะบััะธะน ะฟะพะปัะทะพะฒะฐัะตะปั |
| GET | /api/bots | ะกะฟะธัะพะบ ะฑะพัะพะฒ |
| POST | /api/bots | ะกะพะทะดะฐัั ะฑะพัะฐ |
| POST | /api/bots/{uuid}/start | ะะฐะฟัััะธัั ะฑะพัะฐ |
| POST | /api/bots/{uuid}/stop | ะััะฐะฝะพะฒะธัั ะฑะพัะฐ |
| GET | /api/bots/{uuid}/channels | ะะฐะฝะฐะปั ะฑะพัะฐ |
| GET | /api/bots/{uuid}/promocodes | ะัะพะผะพะบะพะดั |
| POST | /api/bots/{uuid}/broadcasts | ะกะพะทะดะฐัั ัะฐัััะปะบั |

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ค ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
1. ะัะพะฒะตัััะต ัะฐะทะดะตะป Troubleshooting
2. ะะทััะธัะต ะปะพะณะธ
3. ะกะพะทะดะฐะนัะต Issue ะฝะฐ GitHub

---

**Made with โค๏ธ for Telegram Bot Creators**
